<app-form-element-group [LabelText]="'Add Questions'" [InlineElements]="true">
  <app-form-element [Type]="'area'" [LabelText]="'Question'" [(Model)]="scoutQuestion.question">
  </app-form-element>
  <app-form-element [Type]="'number'" [LabelText]="'Order'" [(Model)]="scoutQuestion.order" [Width]="'5em'">
  </app-form-element>
  <app-form-element [Type]="'select'" [LabelText]="'Question Type'" [SelectList]="init.questionTypes"
    [DisplayProperty]="'question_typ_nm'" [BindingProperty]="'question_typ'" [(Model)]="scoutQuestion.question_typ">
  </app-form-element>

  <app-form-element *ngIf="init.scoutQuestionSubTypes && init.scoutQuestionSubTypes.length > 0" [Type]="'select'"
    [LabelText]="'Scout Question Sub Type'" [SelectList]="init.scoutQuestionSubTypes" [DisplayProperty]="'form_sub_nm'"
    [BindingProperty]="'form_sub_typ'" [(Model)]="scoutQuestion.form_sub_typ" [DisplayEmptyOption]="true"
    [MinWidth]="'200px'">
  </app-form-element>

  <app-button-ribbon>
    <app-button [ButtonType]="'main'" (FunctionCallBack)="saveScoutQuestion()">Save</app-button>
  </app-button-ribbon>

  <div *ngIf="scoutQuestion.question_typ === 'select'" class="optionsTableWrapper">
    <app-table [TableCols]="optionsTableCols" [TableData]="scoutQuestion.questionoption_set" [ShowAddButton]="true"
      (AddRecordCallBack)="addOption(scoutQuestion.questionoption_set)" [Scrollable]="true">
    </app-table>
  </div>
</app-form-element-group>

<app-form-element-group [LabelText]="'Modify Questions'" [InlineElements]="true">
  <app-form-element [Type]="'select'" [LabelText]="'Question'" [SelectList]="init.scoutQuestions"
    [DisplayProperty]="'display_value'" [BindingProperty]="'question_id'" [DisplayEmptyOption]="true"
    [(Model)]="scoutQuestion.question_id">
  </app-form-element>
  <ng-container *ngFor="let q of init.scoutQuestions">
    <ng-container *ngIf="q.question_id === scoutQuestion.question_id">
      <app-form-element [Type]="'area'" [LabelText]="'Question'" [(Model)]="q.question">
      </app-form-element>

      <app-form-element [Type]="'number'" [LabelText]="'Order'" [(Model)]="q.order" [Width]="'5em'">
      </app-form-element>

      <app-form-element [Type]="'select'" [LabelText]="'Question Type'" [SelectList]="init.questionTypes"
        [DisplayProperty]="'question_typ_nm'" [BindingProperty]="'question_typ'" [(Model)]="q.question_typ"
        [Width]="'100%'">
      </app-form-element>
      <app-form-element *ngIf="init.scoutQuestionSubTypes && init.scoutQuestionSubTypes.length > 0" [Type]="'select'"
        [LabelText]="'Scout Question Sub Type'" [SelectList]="init.scoutQuestionSubTypes" [MinWidth]="'200px'"
        [DisplayProperty]="'form_sub_nm'" [BindingProperty]="'form_sub_typ'" [(Model)]="q.form_sub_typ"
        [DisplayEmptyOption]="true">
      </app-form-element>
      <app-form-element [Type]="'checkbox'" [TrueValue]="'y'" [FalseValue]="'n'" [LabelText]="'Active'"
        [(Model)]="q.active" (FunctionCallBack)="toggleScoutQuestion(q)"></app-form-element>
      <app-button-ribbon>
        <app-button [ButtonType]="'main'" (FunctionCallBack)="updateScoutQuestion(q)">Update</app-button>
      </app-button-ribbon>

      <div *ngIf="q.question_typ === 'select'" class="optionsTableWrapper">
        <app-table [TableTitle]="'Options'" [TableCols]="optionsTableCols" [TableData]="q.questionoption_set"
          [ShowAddButton]="true" (AddRecordCallBack)="addOption(q.questionoption_set)" [Scrollable]="true"
          [ShowEditButton]="true" (EditRecordCallBack)="toggleOption($event)">
        </app-table>
      </div>
    </ng-container>
  </ng-container>
</app-form-element-group>